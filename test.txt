#include "Polynomial.h"
#include <iostream> 
#include <chrono>

using namespace std;

Polynomial::Polynomial() : coeffs(1, 0.0) {}

// Constructor with coefficients
Polynomial::Polynomial(const vector<double>& coefficients) : coeffs(coefficients) {}

// Copy constructor
Polynomial::Polynomial(const Polynomial& other) : coeffs(other.coeffs) {}

// Destructor
Polynomial::~Polynomial() {}

// Assignment operator
Polynomial& Polynomial::operator=(const Polynomial& other) {
    if (this != &other) {
        coeffs = other.coeffs;
    }
    return *this;
}

// Addition operator
Polynomial Polynomial::operator+(const Polynomial& other) const {
    vector<double> result(max(coeffs.size(), other.coeffs.size()), 0.0);
    for (size_t i = 0; i < result.size(); ++i) {
        if (i < coeffs.size()) result[i] += coeffs[i];
        if (i < other.coeffs.size()) result[i] += other.coeffs[i];
    }
    return Polynomial(result);
}

// Subtraction operator
Polynomial Polynomial::operator-(const Polynomial& other) const {
    vector<double> result(max(coeffs.size(), other.coeffs.size()), 0.0);
    for (size_t i = 0; i < result.size(); ++i) {
        if (i < coeffs.size()) result[i] += coeffs[i];
        if (i < other.coeffs.size()) result[i] -= other.coeffs[i];
    }
    return Polynomial(result);
}

// Multiplication operator
Polynomial Polynomial::operator*(const Polynomial& other) const {
    vector<double> result(coeffs.size() + other.coeffs.size() - 1, 0.0);
    for (size_t i = 0; i < coeffs.size(); ++i) {
        for (size_t j = 0; j < other.coeffs.size(); ++j) {
            result[i + j] += coeffs[i] * other.coeffs[j];
        }
    }
    return Polynomial(result);
}

// Equality operator
bool Polynomial::operator==(const Polynomial& other) const {
    return coeffs == other.coeffs;
}

// Output operator (friend function)
ostream& operator<<(ostream& out, const Polynomial& poly) {
    for (int i = poly.coeffs.size() - 1; i >= 0; --i) {
        if (poly.coeffs[i] != 0) {
            if (i != poly.coeffs.size() - 1 && poly.coeffs[i] > 0) out << "+";
            out << poly.coeffs[i];
            if (i > 0) out << "x";
            if (i > 1) out << "^" << i;
            out << " ";
        }
    }
    return out;
}

// Utility functions
int Polynomial::degree() const {
    return coeffs.size() - 1;
}

// Evaluate the polynomial at x
double Polynomial::evaluate(double x) const {
    double result = 0;
    for (int i = coeffs.size() - 1; i >= 0; --i) {
        result = result * x + coeffs[i];
    }
    return result;
}

// Derivative of the polynomial
Polynomial Polynomial::derivative() const {
    if (coeffs.size() <= 1) return Polynomial();
    vector<double> deriv(coeffs.size() - 1);
    for (size_t i = 1; i < coeffs.size(); ++i) {
        deriv[i - 1] = coeffs[i] * i;
    }
    return Polynomial(deriv);
}

// Integral of the polynomial (indefinite integral, constant term is 0)
Polynomial Polynomial::integral() const {
    vector<double> integ(coeffs.size() + 1, 0.0);
    for (size_t i = 0; i < coeffs.size(); ++i) {
        integ[i + 1] = coeffs[i] / (i + 1);
    }
    return Polynomial(integ);
}

// Definite integral from x1 to x2
double Polynomial::integral(double x1, double x2) const {
    Polynomial integ = integral();
    return integ.evaluate(x2) - integ.evaluate(x1);
}

// Get root using Newton's method
double Polynomial::getRoot(double guess, double tolerance, int maxIter) {
    Polynomial deriv = derivative();
    for (int i = 0; i < maxIter; ++i) {
        double f_val = evaluate(guess);
        double f_deriv = deriv.evaluate(guess);
        if (abs(f_val) < tolerance) return guess;
        guess -= f_val / f_deriv;
    }
    return guess;
}

// Set coefficients
void Polynomial::setCoefficients(const vector<double>& coefficients) {
    coeffs = coefficients;
}

// Get coefficient of a specific degree
double Polynomial::getCoefficient(int degree) const {
    if (degree < 0 || degree >= coeffs.size()) return 0.0;
    return coeffs[degree];
}

// Composition of polynomials
Polynomial Polynomial::compose(const Polynomial& q) const {
    Polynomial result({0});
    Polynomial temp({1});
    for (size_t i = 0; i < coeffs.size(); ++i) {
        result = result + temp * Polynomial({coeffs[i]});
        temp = temp * q;
    }
    return result;
}


// Function to display the available polynomials
void displayPolynomials(const vector<Polynomial>& polynomials) {
    for (size_t i = 0; i < polynomials.size(); ++i) {
        cout << "Polynomial " << i + 1 << ": " << polynomials[i] << endl;
    }
}



int main() {
    vector<Polynomial> polynomials = {
Polynomial({1, 3, 4}),  // Example polynomials
        Polynomial({-1, -3, -4}),
        Polynomial({-7, 3, -5, 2}),
        Polynomial({4, -1, 0, 2, 1}),
        Polynomial({7, 0, -3, 0, 1, 0}),
        Polynomial({-8, 5, -1, -2}),
        Polynomial({9, -1, 7, 0, 0, -4, 2, 3}),
        Polynomial({0}),
        Polynomial({0, 0, 0}),
        Polynomial({5.0/6, -3.0/4, 1.0/2}),
        Polynomial({1, 0, 1}),
        Polynomial({1, -2, 5})    
        };
    displayPolynomials(polynomials);
    int choice;
    do {
        cout << "\n--- Polynomial Menu ---\n";
        cout << "1. Add two polynomials\n";
        cout << "2. Subtract two polynomials\n";
        cout << "3. Multiply two polynomials\n";
        cout << "4. Evaluate polynomial\n";
        cout << "5. Get polynomial derivative\n";
        cout << "6. Get polynomial integral\n";
        cout << "7. Compute definite integral\n";
        cout << "8. Get polynomial degree\n";
        cout << "9. Set polynomial coefficients\n";
        cout << "10. Get polynomial coefficients\n";
        cout << "11. Compare two polynomials for equality\n";
        cout << "12. Display polynomial\n";
        cout << "13. Compose two polynomials\n";
        cout << "14. Exit\n";
        cout << "Enter your choice: ";
        cin >> choice;

        int pIndex1, pIndex2;
        displayPolynomials(polynomials);  // Your display function

        switch (choice) {
            case 1: {
                // Addition
                cout << "Choose two polynomials to add (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the addition
                Polynomial result = polynomials[pIndex1 - 1] + polynomials[pIndex2 - 1];

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Result of addition: " << result << endl;
                cout << "Time taken for addition: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 2: {
                // Subtraction
                cout << "Choose two polynomials to subtract (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the subtraction
                Polynomial result = polynomials[pIndex1 - 1] - polynomials[pIndex2 - 1];

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Result of subtraction: " << result << endl;
                cout << "Time taken for subtraction: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 3: {
                // Multiplication
                cout << "Choose two polynomials to multiply (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the multiplication
                Polynomial result = polynomials[pIndex1 - 1] * polynomials[pIndex2 - 1];

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Result of multiplication: " << result << endl;
                cout << "Time taken for multiplication: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 4: {
                // Evaluation
                double x;
                cout << "Choose a polynomial to evaluate (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter value of x: ";
                cin >> x;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the evaluation
                double result = polynomials[pIndex1 - 1].evaluate(x);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Polynomial evaluated at " << x << ": " << result << endl;
                cout << "Time taken for evaluation: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 5: {
                // Derivative
                cout << "Choose a polynomial to differentiate (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compute the derivative
                Polynomial deriv = polynomials[pIndex1 - 1].derivative();

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Derivative: " << deriv << endl;
                cout << "Time taken for derivative: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 6: {
                // Indefinite integral
                cout << "Choose a polynomial to integrate (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compute the integral
                Polynomial integ = polynomials[pIndex1 - 1].integral();

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Integral: " << integ << endl;
                cout << "Time taken for integral: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 7: {
                // Definite integral
                double x1, x2;
                cout << "Choose a polynomial to integrate (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter lower limit of integration: ";
                cin >> x1;
                cout << "Enter upper limit of integration: ";
                cin >> x2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compute the definite integral
                double result = polynomials[pIndex1 - 1].integral(x1, x2);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Definite integral from " << x1 << " to " << x2 << ": " << result << endl;
                cout << "Time taken for definite integral: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 8: {
                // Degree
                cout << "Choose a polynomial to get its degree (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Get the degree
                int degree = polynomials[pIndex1 - 1].degree();

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Degree of polynomial: " << degree << endl;
                cout << "Time taken to get degree: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 9: {
                // Set coefficients
                vector<double> newCoeffs;
                int degree;
                cout << "Choose a polynomial to modify (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter degree of polynomial: ";
                cin >> degree;
                newCoeffs.resize(degree + 1);
                cout << "Enter coefficients (constant term first): ";
                for (int i = 0; i <= degree; ++i) {
                    cin >> newCoeffs[i];
                }

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Set coefficients
                polynomials[pIndex1 - 1].setCoefficients(newCoeffs);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Time taken to set coefficients: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 10: {
                // Get coefficient
                int degree;
                cout << "Choose a polynomial to get its coefficient (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter degree to get coefficient: ";
                cin >> degree;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Get coefficient
                double coeff = polynomials[pIndex1 - 1].getCoefficient(degree);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Coefficient of degree " << degree << ": " << coeff << endl;
                cout << "Time taken to get coefficient: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 11: {
                // Compare equality
                cout << "Choose two polynomials to compare (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compare equality
                bool equal = (polynomials[pIndex1 - 1] == polynomials[pIndex2 - 1]);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Polynomials are " << (equal ? "equal" : "not equal") << endl;
                cout << "Time taken for comparison: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 12: {
                // Display polynomial
                cout << "Choose a polynomial to display (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Display the polynomial
                cout << polynomials[pIndex1 - 1] << endl;

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Time taken to display polynomial: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 13: {
                // Compose two polynomials
                cout << "Choose two polynomials to compose (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compose the polynomials
                Polynomial result = polynomials[pIndex1 - 1].compose(polynomials[pIndex2 - 1]);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Composition result: " << result << endl;
                cout << "Time taken for composition: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 14: {
                // Exit
                cout << "Exiting...\n";
                break;
            }
            default:
                cout << "Invalid choice, please try again.\n";
        }
    } while (choice != 14);

    return 0;
}


    // Polynomial sum = p1 + p2;
    // Polynomial difference = p1- p2;
    // Polynomial product = p1 * p2;
    // cout << "p1: " << p1 << endl;
    // cout << "p2: " << p2 << endl;
    // cout << "p1 + p2: " << sum << endl;
    // cout << "p1- p2: " << difference << endl;
    // cout << "p1 * p2: " << product << endl;
    // double x = 2.5;
    // cout << "p1 evaluated at x = " << x << ": " << p1.evaluate(x) << endl;
    // cout << "p2 evaluated at x = " << x << ": " << p2.evaluate(x) << endl;




// int main() {
//     vector<Polynomial> polynomials = {
//         Polynomial({1, 3, 4}),  // Example polynomials
//         Polynomial({-1, -3, -4}),
//         Polynomial({-7, 3, -5, 2}),
//         Polynomial({4, -1, 0, 2, 1}),
//         Polynomial({7, 0, -3, 0, 1, 0}),
//         Polynomial({-8, 5, -1, -2}),
//         Polynomial({9, -1, 7, 0, 0, -4, 2, 3}),
//         Polynomial({0}),
//         Polynomial({0, 0, 0}),
//         Polynomial({5.0/6, -3.0/4, 1.0/2}),
//         Polynomial({1, 0, 1}),
//         Polynomial({1, -2, 5})
//     };

//     int choice;
//     do {
//         cout << "\n--- Polynomial Menu ---\n";
//         cout << "1. Add two polynomials\n";
//         cout << "2. Subtract two polynomials\n";
//         cout << "3. Multiply two polynomials\n";
//         cout << "4. Evaluate polynomial\n";
//         cout << "5. Get polynomial derivative\n";
//         cout << "6. Get polynomial integral\n";
//         cout << "7. Compute definite integral\n";
//         cout << "8. Get polynomial degree\n";
//         cout << "9. Set polynomial coefficients\n";
//         cout << "10. Get polynomial coefficients\n";
//         cout << "11. Compare two polynomials for equality\n";
//         cout << "12. Display polynomial\n";
//         cout << "13. Compose two polynomials\n";
//         cout << "14. Exit\n";
//         cout << "Enter your choice: ";
//         cin >> choice;

//         int pIndex1, pIndex2;
//         displayPolynomials(polynomials);  // Display current polynomials


//         switch (choice) {
//             case 1: {
//                 // Addition
//                 cout << "Choose two polynomials to add (enter indices 1-12): ";
//                 cin >> pIndex1 >> pIndex2;
//                 Polynomial result = polynomials[pIndex1 - 1] + polynomials[pIndex2 - 1];
//                 cout << "Result of addition: " << result << endl;
//                 break;
//             }
//             case 2: {
//                 // Subtraction
//                 cout << "Choose two polynomials to subtract (enter indices 1-12): ";
//                 cin >> pIndex1 >> pIndex2;
//                 Polynomial result = polynomials[pIndex1 - 1] - polynomials[pIndex2 - 1];
//                 cout << "Result of subtraction: " << result << endl;
//                 break;
//             }
//             case 3: {
//                 // Multiplication
//                 cout << "Choose two polynomials to multiply (enter indices 1-12): ";
//                 cin >> pIndex1 >> pIndex2;
//                 Polynomial result = polynomials[pIndex1 - 1] * polynomials[pIndex2 - 1];
//                 cout << "Result of multiplication: " << result << endl;
//                 break;
//             }
//             case 4: {
//                 // Evaluation
//                 double x;
//                 cout << "Choose a polynomial to evaluate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 cout << "Enter value of x: ";
//                 cin >> x;
//                 double result = polynomials[pIndex1 - 1].evaluate(x);
//                 cout << "Polynomial evaluated at " << x << ": " << result << endl;
//                 break;
//             }
//             case 5: {
//                 // Derivative
//                 cout << "Choose a polynomial to differentiate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 Polynomial deriv = polynomials[pIndex1 - 1].derivative();
//                 cout << "Derivative: " << deriv << endl;
//                 break;
//             }
//             case 6: {
//                 // Indefinite Integral
//                 cout << "Choose a polynomial to integrate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 Polynomial integ = polynomials[pIndex1 - 1].integral();
//                 cout << "Integral: " << integ << endl;
//                 break;
//             }
//             case 7: {
//                 // Definite Integral
//                 double x1, x2;
//                 cout << "Choose a polynomial to integrate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 cout << "Enter lower limit of integration: ";
//                 cin >> x1;
//                 cout << "Enter upper limit of integration: ";
//                 cin >> x2;
//                 double result = polynomials[pIndex1 - 1].integral(x1, x2);
//                 cout << "Definite integral from " << x1 << " to " << x2 << ": " << result << endl;
//                 break;
//             }
//             // Other cases would follow a similar structure
//             case 14:
//                 cout << "Exiting...\n";
//                 break;
//             default:
//                 cout << "Invalid choice, please try again.\n";
//         }
//     } while (choice != 14);

//     return 0;
// }

this is my class I tested it a bit and it gives me results such as 4 micro seconds for addition
is that reasonable?#include "Polynomial.h"
#include <iostream> 
#include <chrono>

using namespace std;

Polynomial::Polynomial() : coeffs(1, 0.0) {}

// Constructor with coefficients
Polynomial::Polynomial(const vector<double>& coefficients) : coeffs(coefficients) {}

// Copy constructor
Polynomial::Polynomial(const Polynomial& other) : coeffs(other.coeffs) {}

// Destructor
Polynomial::~Polynomial() {}

// Assignment operator
Polynomial& Polynomial::operator=(const Polynomial& other) {
    if (this != &other) {
        coeffs = other.coeffs;
    }
    return *this;
}

// Addition operator
Polynomial Polynomial::operator+(const Polynomial& other) const {
    vector<double> result(max(coeffs.size(), other.coeffs.size()), 0.0);
    for (size_t i = 0; i < result.size(); ++i) {
        if (i < coeffs.size()) result[i] += coeffs[i];
        if (i < other.coeffs.size()) result[i] += other.coeffs[i];
    }
    return Polynomial(result);
}

// Subtraction operator
Polynomial Polynomial::operator-(const Polynomial& other) const {
    vector<double> result(max(coeffs.size(), other.coeffs.size()), 0.0);
    for (size_t i = 0; i < result.size(); ++i) {
        if (i < coeffs.size()) result[i] += coeffs[i];
        if (i < other.coeffs.size()) result[i] -= other.coeffs[i];
    }
    return Polynomial(result);
}

// Multiplication operator
Polynomial Polynomial::operator*(const Polynomial& other) const {
    vector<double> result(coeffs.size() + other.coeffs.size() - 1, 0.0);
    for (size_t i = 0; i < coeffs.size(); ++i) {
        for (size_t j = 0; j < other.coeffs.size(); ++j) {
            result[i + j] += coeffs[i] * other.coeffs[j];
        }
    }
    return Polynomial(result);
}

// Equality operator
bool Polynomial::operator==(const Polynomial& other) const {
    return coeffs == other.coeffs;
}

// Output operator (friend function)
ostream& operator<<(ostream& out, const Polynomial& poly) {
    for (int i = poly.coeffs.size() - 1; i >= 0; --i) {
        if (poly.coeffs[i] != 0) {
            if (i != poly.coeffs.size() - 1 && poly.coeffs[i] > 0) out << "+";
            out << poly.coeffs[i];
            if (i > 0) out << "x";
            if (i > 1) out << "^" << i;
            out << " ";
        }
    }
    return out;
}

// Utility functions
int Polynomial::degree() const {
    return coeffs.size() - 1;
}

// Evaluate the polynomial at x
double Polynomial::evaluate(double x) const {
    double result = 0;
    for (int i = coeffs.size() - 1; i >= 0; --i) {
        result = result * x + coeffs[i];
    }
    return result;
}

// Derivative of the polynomial
Polynomial Polynomial::derivative() const {
    if (coeffs.size() <= 1) return Polynomial();
    vector<double> deriv(coeffs.size() - 1);
    for (size_t i = 1; i < coeffs.size(); ++i) {
        deriv[i - 1] = coeffs[i] * i;
    }
    return Polynomial(deriv);
}

// Integral of the polynomial (indefinite integral, constant term is 0)
Polynomial Polynomial::integral() const {
    vector<double> integ(coeffs.size() + 1, 0.0);
    for (size_t i = 0; i < coeffs.size(); ++i) {
        integ[i + 1] = coeffs[i] / (i + 1);
    }
    return Polynomial(integ);
}

// Definite integral from x1 to x2
double Polynomial::integral(double x1, double x2) const {
    Polynomial integ = integral();
    return integ.evaluate(x2) - integ.evaluate(x1);
}

// Get root using Newton's method
double Polynomial::getRoot(double guess, double tolerance, int maxIter) {
    Polynomial deriv = derivative();
    for (int i = 0; i < maxIter; ++i) {
        double f_val = evaluate(guess);
        double f_deriv = deriv.evaluate(guess);
        if (abs(f_val) < tolerance) return guess;
        guess -= f_val / f_deriv;
    }
    return guess;
}

// Set coefficients
void Polynomial::setCoefficients(const vector<double>& coefficients) {
    coeffs = coefficients;
}

// Get coefficient of a specific degree
double Polynomial::getCoefficient(int degree) const {
    if (degree < 0 || degree >= coeffs.size()) return 0.0;
    return coeffs[degree];
}

// Composition of polynomials
Polynomial Polynomial::compose(const Polynomial& q) const {
    Polynomial result({0});
    Polynomial temp({1});
    for (size_t i = 0; i < coeffs.size(); ++i) {
        result = result + temp * Polynomial({coeffs[i]});
        temp = temp * q;
    }
    return result;
}


// Function to display the available polynomials
void displayPolynomials(const vector<Polynomial>& polynomials) {
    for (size_t i = 0; i < polynomials.size(); ++i) {
        cout << "Polynomial " << i + 1 << ": " << polynomials[i] << endl;
    }
}



int main() {
    vector<Polynomial> polynomials = {
Polynomial({1, 3, 4}),  // Example polynomials
        Polynomial({-1, -3, -4}),
        Polynomial({-7, 3, -5, 2}),
        Polynomial({4, -1, 0, 2, 1}),
        Polynomial({7, 0, -3, 0, 1, 0}),
        Polynomial({-8, 5, -1, -2}),
        Polynomial({9, -1, 7, 0, 0, -4, 2, 3}),
        Polynomial({0}),
        Polynomial({0, 0, 0}),
        Polynomial({5.0/6, -3.0/4, 1.0/2}),
        Polynomial({1, 0, 1}),
        Polynomial({1, -2, 5})    
        };
    displayPolynomials(polynomials);
    int choice;
    do {
        cout << "\n--- Polynomial Menu ---\n";
        cout << "1. Add two polynomials\n";
        cout << "2. Subtract two polynomials\n";
        cout << "3. Multiply two polynomials\n";
        cout << "4. Evaluate polynomial\n";
        cout << "5. Get polynomial derivative\n";
        cout << "6. Get polynomial integral\n";
        cout << "7. Compute definite integral\n";
        cout << "8. Get polynomial degree\n";
        cout << "9. Set polynomial coefficients\n";
        cout << "10. Get polynomial coefficients\n";
        cout << "11. Compare two polynomials for equality\n";
        cout << "12. Display polynomial\n";
        cout << "13. Compose two polynomials\n";
        cout << "14. Exit\n";
        cout << "Enter your choice: ";
        cin >> choice;

        int pIndex1, pIndex2;
        displayPolynomials(polynomials);  // Your display function

        switch (choice) {
            case 1: {
                // Addition
                cout << "Choose two polynomials to add (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the addition
                Polynomial result = polynomials[pIndex1 - 1] + polynomials[pIndex2 - 1];

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Result of addition: " << result << endl;
                cout << "Time taken for addition: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 2: {
                // Subtraction
                cout << "Choose two polynomials to subtract (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the subtraction
                Polynomial result = polynomials[pIndex1 - 1] - polynomials[pIndex2 - 1];

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Result of subtraction: " << result << endl;
                cout << "Time taken for subtraction: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 3: {
                // Multiplication
                cout << "Choose two polynomials to multiply (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the multiplication
                Polynomial result = polynomials[pIndex1 - 1] * polynomials[pIndex2 - 1];

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Result of multiplication: " << result << endl;
                cout << "Time taken for multiplication: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 4: {
                // Evaluation
                double x;
                cout << "Choose a polynomial to evaluate (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter value of x: ";
                cin >> x;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Perform the evaluation
                double result = polynomials[pIndex1 - 1].evaluate(x);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Polynomial evaluated at " << x << ": " << result << endl;
                cout << "Time taken for evaluation: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 5: {
                // Derivative
                cout << "Choose a polynomial to differentiate (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compute the derivative
                Polynomial deriv = polynomials[pIndex1 - 1].derivative();

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Derivative: " << deriv << endl;
                cout << "Time taken for derivative: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 6: {
                // Indefinite integral
                cout << "Choose a polynomial to integrate (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compute the integral
                Polynomial integ = polynomials[pIndex1 - 1].integral();

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Integral: " << integ << endl;
                cout << "Time taken for integral: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 7: {
                // Definite integral
                double x1, x2;
                cout << "Choose a polynomial to integrate (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter lower limit of integration: ";
                cin >> x1;
                cout << "Enter upper limit of integration: ";
                cin >> x2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compute the definite integral
                double result = polynomials[pIndex1 - 1].integral(x1, x2);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Definite integral from " << x1 << " to " << x2 << ": " << result << endl;
                cout << "Time taken for definite integral: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 8: {
                // Degree
                cout << "Choose a polynomial to get its degree (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Get the degree
                int degree = polynomials[pIndex1 - 1].degree();

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Degree of polynomial: " << degree << endl;
                cout << "Time taken to get degree: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 9: {
                // Set coefficients
                vector<double> newCoeffs;
                int degree;
                cout << "Choose a polynomial to modify (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter degree of polynomial: ";
                cin >> degree;
                newCoeffs.resize(degree + 1);
                cout << "Enter coefficients (constant term first): ";
                for (int i = 0; i <= degree; ++i) {
                    cin >> newCoeffs[i];
                }

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Set coefficients
                polynomials[pIndex1 - 1].setCoefficients(newCoeffs);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Time taken to set coefficients: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 10: {
                // Get coefficient
                int degree;
                cout << "Choose a polynomial to get its coefficient (enter index 1-10): ";
                cin >> pIndex1;
                cout << "Enter degree to get coefficient: ";
                cin >> degree;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Get coefficient
                double coeff = polynomials[pIndex1 - 1].getCoefficient(degree);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Coefficient of degree " << degree << ": " << coeff << endl;
                cout << "Time taken to get coefficient: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 11: {
                // Compare equality
                cout << "Choose two polynomials to compare (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compare equality
                bool equal = (polynomials[pIndex1 - 1] == polynomials[pIndex2 - 1]);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Polynomials are " << (equal ? "equal" : "not equal") << endl;
                cout << "Time taken for comparison: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 12: {
                // Display polynomial
                cout << "Choose a polynomial to display (enter index 1-10): ";
                cin >> pIndex1;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Display the polynomial
                cout << polynomials[pIndex1 - 1] << endl;

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Time taken to display polynomial: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 13: {
                // Compose two polynomials
                cout << "Choose two polynomials to compose (enter indices 1-10): ";
                cin >> pIndex1 >> pIndex2;

                // Start timing
                auto start = chrono::high_resolution_clock::now();

                // Compose the polynomials
                Polynomial result = polynomials[pIndex1 - 1].compose(polynomials[pIndex2 - 1]);

                // End timing
                auto end = chrono::high_resolution_clock::now();
                auto duration = chrono::duration_cast<chrono::microseconds>(end - start);
                cout << "Composition result: " << result << endl;
                cout << "Time taken for composition: " << duration.count() << " microseconds" << endl;
                break;
            }
            case 14: {
                // Exit
                cout << "Exiting...\n";
                break;
            }
            default:
                cout << "Invalid choice, please try again.\n";
        }
    } while (choice != 14);

    return 0;
}


    // Polynomial sum = p1 + p2;
    // Polynomial difference = p1- p2;
    // Polynomial product = p1 * p2;
    // cout << "p1: " << p1 << endl;
    // cout << "p2: " << p2 << endl;
    // cout << "p1 + p2: " << sum << endl;
    // cout << "p1- p2: " << difference << endl;
    // cout << "p1 * p2: " << product << endl;
    // double x = 2.5;
    // cout << "p1 evaluated at x = " << x << ": " << p1.evaluate(x) << endl;
    // cout << "p2 evaluated at x = " << x << ": " << p2.evaluate(x) << endl;




// int main() {
//     vector<Polynomial> polynomials = {
//         Polynomial({1, 3, 4}),  // Example polynomials
//         Polynomial({-1, -3, -4}),
//         Polynomial({-7, 3, -5, 2}),
//         Polynomial({4, -1, 0, 2, 1}),
//         Polynomial({7, 0, -3, 0, 1, 0}),
//         Polynomial({-8, 5, -1, -2}),
//         Polynomial({9, -1, 7, 0, 0, -4, 2, 3}),
//         Polynomial({0}),
//         Polynomial({0, 0, 0}),
//         Polynomial({5.0/6, -3.0/4, 1.0/2}),
//         Polynomial({1, 0, 1}),
//         Polynomial({1, -2, 5})
//     };

//     int choice;
//     do {
//         cout << "\n--- Polynomial Menu ---\n";
//         cout << "1. Add two polynomials\n";
//         cout << "2. Subtract two polynomials\n";
//         cout << "3. Multiply two polynomials\n";
//         cout << "4. Evaluate polynomial\n";
//         cout << "5. Get polynomial derivative\n";
//         cout << "6. Get polynomial integral\n";
//         cout << "7. Compute definite integral\n";
//         cout << "8. Get polynomial degree\n";
//         cout << "9. Set polynomial coefficients\n";
//         cout << "10. Get polynomial coefficients\n";
//         cout << "11. Compare two polynomials for equality\n";
//         cout << "12. Display polynomial\n";
//         cout << "13. Compose two polynomials\n";
//         cout << "14. Exit\n";
//         cout << "Enter your choice: ";
//         cin >> choice;

//         int pIndex1, pIndex2;
//         displayPolynomials(polynomials);  // Display current polynomials


//         switch (choice) {
//             case 1: {
//                 // Addition
//                 cout << "Choose two polynomials to add (enter indices 1-12): ";
//                 cin >> pIndex1 >> pIndex2;
//                 Polynomial result = polynomials[pIndex1 - 1] + polynomials[pIndex2 - 1];
//                 cout << "Result of addition: " << result << endl;
//                 break;
//             }
//             case 2: {
//                 // Subtraction
//                 cout << "Choose two polynomials to subtract (enter indices 1-12): ";
//                 cin >> pIndex1 >> pIndex2;
//                 Polynomial result = polynomials[pIndex1 - 1] - polynomials[pIndex2 - 1];
//                 cout << "Result of subtraction: " << result << endl;
//                 break;
//             }
//             case 3: {
//                 // Multiplication
//                 cout << "Choose two polynomials to multiply (enter indices 1-12): ";
//                 cin >> pIndex1 >> pIndex2;
//                 Polynomial result = polynomials[pIndex1 - 1] * polynomials[pIndex2 - 1];
//                 cout << "Result of multiplication: " << result << endl;
//                 break;
//             }
//             case 4: {
//                 // Evaluation
//                 double x;
//                 cout << "Choose a polynomial to evaluate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 cout << "Enter value of x: ";
//                 cin >> x;
//                 double result = polynomials[pIndex1 - 1].evaluate(x);
//                 cout << "Polynomial evaluated at " << x << ": " << result << endl;
//                 break;
//             }
//             case 5: {
//                 // Derivative
//                 cout << "Choose a polynomial to differentiate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 Polynomial deriv = polynomials[pIndex1 - 1].derivative();
//                 cout << "Derivative: " << deriv << endl;
//                 break;
//             }
//             case 6: {
//                 // Indefinite Integral
//                 cout << "Choose a polynomial to integrate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 Polynomial integ = polynomials[pIndex1 - 1].integral();
//                 cout << "Integral: " << integ << endl;
//                 break;
//             }
//             case 7: {
//                 // Definite Integral
//                 double x1, x2;
//                 cout << "Choose a polynomial to integrate (enter index 1-12): ";
//                 cin >> pIndex1;
//                 cout << "Enter lower limit of integration: ";
//                 cin >> x1;
//                 cout << "Enter upper limit of integration: ";
//                 cin >> x2;
//                 double result = polynomials[pIndex1 - 1].integral(x1, x2);
//                 cout << "Definite integral from " << x1 << " to " << x2 << ": " << result << endl;
//                 break;
//             }
//             // Other cases would follow a similar structure
//             case 14:
//                 cout << "Exiting...\n";
//                 break;
//             default:
//                 cout << "Invalid choice, please try again.\n";
//         }
//     } while (choice != 14);

//     return 0;
// }

this is my class I tested it a bit and it gives me results such as 4 micro seconds for addition
is that reasonable?
